import Knex from "knex";

export const openDatabase = async (): Knex => {
  const db = Knex({
    client: "pg",
    connection: process.env.DATABASE_URL
  });

  // let's test the connection before returning it
  await db.raw("SELECT 1");

  return db;
};
